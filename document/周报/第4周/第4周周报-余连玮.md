# 周报-第4周-余连玮

## 本周完成的事情

### 一、命名实体识别模块

#### 1. 打乱数据

- 首先对文档进行初步的数据清洗，去掉出现的多余换行符、特殊符号、英文乱码等。

- 然后从中随机抽取1000条数据进行标注。

#### 2. 标注食品专有名词

使用YEDDA工具标记文档中的食品安全专有名词，如：保健食品、非洲猪瘟、五毛食品、三无食品、明厨亮灶等。

- 最开始我们打算利用一个模型同时标记人名、机构名、时间、地点、食品安全专有名词，但这样的标记效率太低，并且太多特征送入模型，模型难以学会，准确率不高，因此我们尝试了一段时间就放弃了。
- 后来我们利用已有的标记了人名、机构名、时间、地点的数据集，进行训练，直接得到了能够识别人名、机构名、时间、地点的模型。
- 因此只需要对文档中的食品安全专有名词进行标注，得到一个新的模型用来识别食品安全专有名词，提高了标记速度。但由于只有两个人标记，标注还是花费了很长的时间。
- 后期有条件的话，希望能够动员更多人对数据进行标注，有望能进一步提高模型的准确率。

#### 3. 训练模型

- 由于文档较长，对于标记好的数据，根据标点符号进行切分，将长文本转换为较短的文本，有助于提高训练的准确率。
- 将切分好的数据按照7：2：1的比例划分为训练集、测试集、开发集，送入BiLSTM-CRF 模型进行训练，得到相应的模型。
- 获得标注好的人名、机构名、时间、地点数据集，送入BiLSTM-CRF 模型进行训练，得到相应的模型。

#### 3. 食品安全专有名词模型测试结果



#### 4. 其他名词模型测试结果



### 二、事件提取模块

事件提取模块主要分为以下几个步骤：

#### 1. 按主题存放文档

- 在利用LDA模型进行主题提取后，每个文档都有了对应的主题id。

- 每个主题建立一个独立的文件夹，将分词后的文档按主题id分到对应的主题文件夹中。

#### 2. 提取所有文档的命名实体

- 调用训练好的识别命名实体的模型，提取出一个文档所有的专有名词，去重后，拼接成类似分词序列的形式，存入对应的主题文件夹中。

#### 3. 训练Doc2Vec模型

对于每个主题的文档训练一个Doc2Vec模型：

- 将一个主题下的所有文档一起送入模型中训练。

#### 4. 训练Word2Vec模型

对于整个语料库训练一个Word2Vec模型，用于后续将命名实体向量化。这部分由王子昂完成。

#### 5. 文档文本向量化

- 利用训练好的Doc2Vec模型，将每一篇文档转换成一个句子向量。

- 句子向量采用简单的词向量相加并归一化来处理得到。效果意外的还不错。

#### 6. 命名实体向量化

- 利用训练好的Word2Vec模型，将每一个命名实体转换为一个词向量。
- 整个分词序列向量也采用上述的句子向量获取方式：词向量相加并归一化得到。

#### 7. 相似度计算

利用加权相似度来表示总体相似度。

Sim(d1, d2) =w \* Sim_doc(d1, d2) + (1-w) \* Sim_entity(d1, d2)

#### 8. 层次聚类

学姐的论文中指出